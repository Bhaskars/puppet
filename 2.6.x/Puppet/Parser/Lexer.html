<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: Puppet::Parser::Lexer
  
    &mdash; Documentation by YARD 0.7.5
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="../../css/docco.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '../..';
  if (relpath != '') relpath += '/';
</script>

  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/docco.js"></script>


  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../../_index.html">Index (L)</a> &raquo; 
    <span class='title'><span class='object_link'><a href="../../Puppet.html" title="Puppet (module)">Puppet</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Parser.html" title="Puppet::Parser (module)">Parser</a></span></span>
     &raquo; 
    <span class="title">Lexer</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a id="class_list_link" href="#">Class List</a>
  
    <a id="method_list_link" href="#">Method List</a>
  
    <a id="file_list_link" href="#">File List</a>
  
</div>
      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Class: Puppet::Parser::Lexer
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></span>
      
        <ul class="fullTree">
          <li><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></li>
          
            <li class="next">Puppet::Parser::Lexer</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">lib/puppet/parser/lexer.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Defined Under Namespace</h2>
<p class="children">
   
    
   
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="Lexer/Token.html" title="Puppet::Parser::Lexer::Token (class)">Token</a></span>, <span class='object_link'><a href="Lexer/TokenList.html" title="Puppet::Parser::Lexer::TokenList (class)">TokenList</a></span>
    
  
</p>

  <h2>Constant Summary</h2>
  
    <dl class="constants">
      
        <dt id="TOKENS-constant" class="">TOKENS =
          
        </dt>
        <dd><pre class="code"><span class='const'>TokenList</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span></pre></dd>
      
        <dt id="KEYWORDS-constant" class="">KEYWORDS =
          
        </dt>
        <dd><pre class="code"><span class='const'>TokenList</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span></pre></dd>
      
        <dt id="pairs-classvariable" class="">@@pairs =
          
        </dt>
        <dd><pre class="code"><span class='lbrace'>{</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>{</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>]</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;|</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>|&gt;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;&lt;|</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>|&gt;&gt;</span><span class='tstring_end'>&quot;</span></span>
<span class='rbrace'>}</span></pre></dd>
      
    </dl>
  




  <h2>Instance Attribute Summary <small>(<a href="#" class="summary_toggle">collapse</a>)</small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#file-instance_method" title="#file (instance method)">- (Object) <strong>file</strong> </a>
    

    
  </span>
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the value of attribute file.
</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#indefine-instance_method" title="#indefine (instance method)">- (Object) <strong>indefine</strong> </a>
    

    
  </span>
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the value of attribute indefine.
</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#last-instance_method" title="#last (instance method)">- (Object) <strong>last</strong> </a>
    

    
  </span>
  
  
    <span class="note title readonly">readonly</span>
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the value of attribute last.
</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#line-instance_method" title="#line (instance method)">- (Object) <strong>line</strong> </a>
    

    
  </span>
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the value of attribute line.
</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#clear-instance_method" title="#clear (instance method)">- (Object) <strong>clear</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#commentpop-instance_method" title="#commentpop (instance method)">- (Object) <strong>commentpop</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
returns the content of the currently accumulated content cache.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#commentpush-instance_method" title="#commentpush (instance method)">- (Object) <strong>commentpush</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#expected-instance_method" title="#expected (instance method)">- (Object) <strong>expected</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find_regex_token-instance_method" title="#find_regex_token (instance method)">- (Object) <strong>find_regex_token</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Find the next token that matches a regex.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find_string_token-instance_method" title="#find_string_token (instance method)">- (Object) <strong>find_string_token</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find_token-instance_method" title="#find_token (instance method)">- (Object) <strong>find_token</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Find the next token, returning the string and the token.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#fullscan-instance_method" title="#fullscan (instance method)">- (Object) <strong>fullscan</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
scan the whole file basically just used for testing.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#getcomment-instance_method" title="#getcomment (instance method)">- (Object) <strong>getcomment</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#indefine%3F-instance_method" title="#indefine? (instance method)">- (Boolean) <strong>indefine?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (Lexer) <strong>initialize</strong> </a>
    

    
  </span>
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
A new instance of Lexer.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initvars-instance_method" title="#initvars (instance method)">- (Object) <strong>initvars</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#munge_token-instance_method" title="#munge_token (instance method)">- (Object) <strong>munge_token</strong>(token, value) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Make any necessary changes to the token and/or value.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#namepop-instance_method" title="#namepop (instance method)">- (Object) <strong>namepop</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Go up one in the namespace.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#namespace-instance_method" title="#namespace (instance method)">- (Object) <strong>namespace</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Collect the current namespace.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#namestack-instance_method" title="#namestack (instance method)">- (Object) <strong>namestack</strong>(value) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><table>
<tr><td valign="top">This value might have </td><td><p>
in it, but we don&#8217;t care &#8212; it&#8217;ll be
</p>
</td></tr>
</table>
<p>
handled normally when joining, and when popping we want to pop this full
value, however long the namespace is.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#rest-instance_method" title="#rest (instance method)">- (Object) <strong>rest</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#scan-instance_method" title="#scan (instance method)">- (Object) <strong>scan</strong> {|[false,false]| ... }</a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
this is the heart of the lexer.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#skip-instance_method" title="#skip (instance method)">- (Object) <strong>skip</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Skip any skipchars in our remaining string.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#slurpstring-instance_method" title="#slurpstring (instance method)">- (Object) <strong>slurpstring</strong>(quote) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
we&#8217;ve encountered an opening quote&#8230;
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#string%3D-instance_method" title="#string= (instance method)">- (Object) <strong>string=</strong>(string) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
just parse a string, not a whole file.
</p>
</div></span>
  
</li>

      
    </ul>
  

<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <p class="signature first" id="initialize-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="Puppet::Parser::Lexer (class)">Lexer</a></span></tt>) <strong>initialize</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
A new instance of Lexer
</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


317
318
319
320
321</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/parser/lexer.rb', line 317</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>
    <span class='ivar'>@find</span> <span class='op'>=</span> <span class='int'>0</span>
    <span class='ivar'>@regex</span> <span class='op'>=</span> <span class='int'>0</span>
    <span class='id identifier rubyid_initvars'>initvars</span><span class='lparen'>(</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div><table class="annotated_source_code">
  <tr>
    <td colspan="3" style="padding-left: 10px;">
      <pre class="code"><span class="info file"># File 'lib/puppet/parser/lexer.rb', line 317</span></pre>
    </td>
  </tr>
  
    <tr>
      <td class="comment">
        <span>  
      </td>
      <td class="line-numbers">
        <pre class="lines" style="padding-right: 0px;">317
318
319
320
321
322</pre>
      </td>
      <td class="code">
        <pre class="code"><span class="info file"><span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>
    <span class='ivar'>@find</span> <span class='op'>=</span> <span class='int'>0</span>
    <span class='ivar'>@regex</span> <span class='op'>=</span> <span class='int'>0</span>
    <span class='id identifier rubyid_initvars'>initvars</span><span class='lparen'>(</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
      </td>
    </tr>
  

</table>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id="file=-instance_method"></span>
      <span id="file-instance_method"></span>
      <div class="method_details first">
  <p class="signature first" id="file-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>file</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the value of attribute file
</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


14
15
16</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/parser/lexer.rb', line 14</span>

<span class='kw'>def</span> <span class='id identifier rubyid_file'>file</span>
  <span class='ivar'>@file</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div><table class="annotated_source_code">
  <tr>
    <td colspan="3" style="padding-left: 10px;">
      <pre class="code"><span class="info file"># File 'lib/puppet/parser/lexer.rb', line 14</span></pre>
    </td>
  </tr>
  
    <tr>
      <td class="comment">
        <span>  
      </td>
      <td class="line-numbers">
        <pre class="lines" style="padding-right: 0px;">14
15
16
17</pre>
      </td>
      <td class="code">
        <pre class="code"><span class="info file"><span class='kw'>def</span> <span class='id identifier rubyid_file'>file</span>
  <span class='ivar'>@file</span>
<span class='kw'>end</span></pre>
      </td>
    </tr>
  

</table>
    
      
      <span id="indefine=-instance_method"></span>
      <span id="indefine-instance_method"></span>
      <div class="method_details ">
  <p class="signature " id="indefine-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>indefine</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the value of attribute indefine
</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


16
17
18</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/parser/lexer.rb', line 16</span>

<span class='kw'>def</span> <span class='id identifier rubyid_indefine'>indefine</span>
  <span class='ivar'>@indefine</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div><table class="annotated_source_code">
  <tr>
    <td colspan="3" style="padding-left: 10px;">
      <pre class="code"><span class="info file"># File 'lib/puppet/parser/lexer.rb', line 16</span></pre>
    </td>
  </tr>
  
    <tr>
      <td class="comment">
        <span>  
      </td>
      <td class="line-numbers">
        <pre class="lines" style="padding-right: 0px;">16
17
18
19</pre>
      </td>
      <td class="code">
        <pre class="code"><span class="info file"><span class='kw'>def</span> <span class='id identifier rubyid_indefine'>indefine</span>
  <span class='ivar'>@indefine</span>
<span class='kw'>end</span></pre>
      </td>
    </tr>
  

</table>
    
      
      <span id=""></span>
      <span id="last-instance_method"></span>
      <div class="method_details ">
  <p class="signature " id="last-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>last</strong>  <span class="extras">(readonly)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the value of attribute last
</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


14
15
16</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/parser/lexer.rb', line 14</span>

<span class='kw'>def</span> <span class='id identifier rubyid_last'>last</span>
  <span class='ivar'>@last</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div><table class="annotated_source_code">
  <tr>
    <td colspan="3" style="padding-left: 10px;">
      <pre class="code"><span class="info file"># File 'lib/puppet/parser/lexer.rb', line 14</span></pre>
    </td>
  </tr>
  
    <tr>
      <td class="comment">
        <span>  
      </td>
      <td class="line-numbers">
        <pre class="lines" style="padding-right: 0px;">14
15
16
17</pre>
      </td>
      <td class="code">
        <pre class="code"><span class="info file"><span class='kw'>def</span> <span class='id identifier rubyid_last'>last</span>
  <span class='ivar'>@last</span>
<span class='kw'>end</span></pre>
      </td>
    </tr>
  

</table>
    
      
      <span id="line=-instance_method"></span>
      <span id="line-instance_method"></span>
      <div class="method_details ">
  <p class="signature " id="line-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>line</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the value of attribute line
</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


16
17
18</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/parser/lexer.rb', line 16</span>

<span class='kw'>def</span> <span class='id identifier rubyid_line'>line</span>
  <span class='ivar'>@line</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div><table class="annotated_source_code">
  <tr>
    <td colspan="3" style="padding-left: 10px;">
      <pre class="code"><span class="info file"># File 'lib/puppet/parser/lexer.rb', line 16</span></pre>
    </td>
  </tr>
  
    <tr>
      <td class="comment">
        <span>  
      </td>
      <td class="line-numbers">
        <pre class="lines" style="padding-right: 0px;">16
17
18
19</pre>
      </td>
      <td class="code">
        <pre class="code"><span class="info file"><span class='kw'>def</span> <span class='id identifier rubyid_line'>line</span>
  <span class='ivar'>@line</span>
<span class='kw'>end</span></pre>
      </td>
    </tr>
  

</table>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="clear-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>clear</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


219
220
221</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/parser/lexer.rb', line 219</span>

<span class='kw'>def</span> <span class='id identifier rubyid_clear'>clear</span>
    <span class='id identifier rubyid_initvars'>initvars</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div><table class="annotated_source_code">
  <tr>
    <td colspan="3" style="padding-left: 10px;">
      <pre class="code"><span class="info file"># File 'lib/puppet/parser/lexer.rb', line 219</span></pre>
    </td>
  </tr>
  
    <tr>
      <td class="comment">
        <span>  
      </td>
      <td class="line-numbers">
        <pre class="lines" style="padding-right: 0px;">219
220
221
222</pre>
      </td>
      <td class="code">
        <pre class="code"><span class="info file"><span class='kw'>def</span> <span class='id identifier rubyid_clear'>clear</span>
    <span class='id identifier rubyid_initvars'>initvars</span>
<span class='kw'>end</span></pre>
      </td>
    </tr>
  

</table>
    
      <div class="method_details ">
  <p class="signature " id="commentpop-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>commentpop</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
returns the content of the currently accumulated content cache
</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


487
488
489</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/parser/lexer.rb', line 487</span>

<span class='kw'>def</span> <span class='id identifier rubyid_commentpop'>commentpop</span>
    <span class='kw'>return</span> <span class='ivar'>@commentstack</span><span class='period'>.</span><span class='id identifier rubyid_pop'>pop</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div><table class="annotated_source_code">
  <tr>
    <td colspan="3" style="padding-left: 10px;">
      <pre class="code"><span class="info file"># File 'lib/puppet/parser/lexer.rb', line 487</span></pre>
    </td>
  </tr>
  
    <tr>
      <td class="comment">
        <span>  
      </td>
      <td class="line-numbers">
        <pre class="lines" style="padding-right: 0px;">487
488
489
490</pre>
      </td>
      <td class="code">
        <pre class="code"><span class="info file"><span class='kw'>def</span> <span class='id identifier rubyid_commentpop'>commentpop</span>
    <span class='kw'>return</span> <span class='ivar'>@commentstack</span><span class='period'>.</span><span class='id identifier rubyid_pop'>pop</span>
<span class='kw'>end</span></pre>
      </td>
    </tr>
  

</table>
    
      <div class="method_details ">
  <p class="signature " id="commentpush-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>commentpush</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


497
498
499</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/parser/lexer.rb', line 497</span>

<span class='kw'>def</span> <span class='id identifier rubyid_commentpush'>commentpush</span>
    <span class='ivar'>@commentstack</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div><table class="annotated_source_code">
  <tr>
    <td colspan="3" style="padding-left: 10px;">
      <pre class="code"><span class="info file"># File 'lib/puppet/parser/lexer.rb', line 497</span></pre>
    </td>
  </tr>
  
    <tr>
      <td class="comment">
        <span>  
      </td>
      <td class="line-numbers">
        <pre class="lines" style="padding-right: 0px;">497
498
499
500</pre>
      </td>
      <td class="code">
        <pre class="code"><span class="info file"><span class='kw'>def</span> <span class='id identifier rubyid_commentpush'>commentpush</span>
    <span class='ivar'>@commentstack</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
      </td>
    </tr>
  

</table>
    
      <div class="method_details ">
  <p class="signature " id="expected-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>expected</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


223
224
225
226
227
228
229</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/parser/lexer.rb', line 223</span>

<span class='kw'>def</span> <span class='id identifier rubyid_expected'>expected</span>
    <span class='kw'>return</span> <span class='kw'>nil</span> <span class='kw'>if</span> <span class='ivar'>@expected</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='ivar'>@expected</span><span class='lbracket'>[</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Could not find expected token %s</span><span class='tstring_end'>&quot;</span></span> <span class='op'>%</span> <span class='id identifier rubyid_name'>name</span> <span class='kw'>unless</span> <span class='id identifier rubyid_token'>token</span> <span class='op'>=</span> <span class='const'>TOKENS</span><span class='period'>.</span><span class='id identifier rubyid_lookup'>lookup</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>

    <span class='kw'>return</span> <span class='id identifier rubyid_token'>token</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div><table class="annotated_source_code">
  <tr>
    <td colspan="3" style="padding-left: 10px;">
      <pre class="code"><span class="info file"># File 'lib/puppet/parser/lexer.rb', line 223</span></pre>
    </td>
  </tr>
  
    <tr>
      <td class="comment">
        <span>  
      </td>
      <td class="line-numbers">
        <pre class="lines" style="padding-right: 0px;">223
224
225
226
227
228
229
230</pre>
      </td>
      <td class="code">
        <pre class="code"><span class="info file"><span class='kw'>def</span> <span class='id identifier rubyid_expected'>expected</span>
    <span class='kw'>return</span> <span class='kw'>nil</span> <span class='kw'>if</span> <span class='ivar'>@expected</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='ivar'>@expected</span><span class='lbracket'>[</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Could not find expected token %s</span><span class='tstring_end'>&quot;</span></span> <span class='op'>%</span> <span class='id identifier rubyid_name'>name</span> <span class='kw'>unless</span> <span class='id identifier rubyid_token'>token</span> <span class='op'>=</span> <span class='const'>TOKENS</span><span class='period'>.</span><span class='id identifier rubyid_lookup'>lookup</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>

    <span class='kw'>return</span> <span class='id identifier rubyid_token'>token</span>
<span class='kw'>end</span></pre>
      </td>
    </tr>
  

</table>
    
      <div class="method_details ">
  <p class="signature " id="find_regex_token-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>find_regex_token</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Find the next token that matches a regex.  We look for these first.
</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/parser/lexer.rb', line 275</span>

<span class='kw'>def</span> <span class='id identifier rubyid_find_regex_token'>find_regex_token</span>
    <span class='ivar'>@regex</span> <span class='op'>+=</span> <span class='int'>1</span>
    <span class='id identifier rubyid_matched_token'>matched_token</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_length'>length</span> <span class='op'>=</span> <span class='int'>0</span>

    <span class='comment'># I tried optimizing based on the first char, but it had
</span>    <span class='comment'># a slightly negative affect and was a good bit more complicated.
</span>    <span class='const'>TOKENS</span><span class='period'>.</span><span class='id identifier rubyid_regex_tokens'>regex_tokens</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_token'>token</span><span class='op'>|</span>
        <span class='kw'>next</span> <span class='kw'>unless</span> <span class='id identifier rubyid_match_length'>match_length</span> <span class='op'>=</span> <span class='ivar'>@scanner</span><span class='period'>.</span><span class='id identifier rubyid_match?'>match?</span><span class='lparen'>(</span><span class='id identifier rubyid_token'>token</span><span class='period'>.</span><span class='id identifier rubyid_regex'>regex</span><span class='rparen'>)</span> 
        
        <span class='comment'># We've found a longer match
</span>        <span class='kw'>if</span> <span class='id identifier rubyid_match_length'>match_length</span> <span class='op'>&gt;</span> <span class='id identifier rubyid_length'>length</span>
            <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='ivar'>@scanner</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='id identifier rubyid_token'>token</span><span class='period'>.</span><span class='id identifier rubyid_regex'>regex</span><span class='rparen'>)</span> 
            <span class='id identifier rubyid_length'>length</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
            <span class='id identifier rubyid_matched_token'>matched_token</span> <span class='op'>=</span> <span class='id identifier rubyid_token'>token</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='kw'>return</span> <span class='id identifier rubyid_matched_token'>matched_token</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div><table class="annotated_source_code">
  <tr>
    <td colspan="3" style="padding-left: 10px;">
      <pre class="code"><span class="info file"># File 'lib/puppet/parser/lexer.rb', line 275</span></pre>
    </td>
  </tr>
  
    <tr>
      <td class="comment">
        <span>  
      </td>
      <td class="line-numbers">
        <pre class="lines" style="padding-right: 0px;">275
276
277
278
279
280
281</pre>
      </td>
      <td class="code">
        <pre class="code"><span class="info file">def find_regex_token
    @regex += 1
    matched_token = nil
    value = &quot;&quot;
    length = 0
</pre>
      </td>
    </tr>
  
    <tr>
      <td class="comment">
        <span><div class="docstring">
  <div class="discussion">
    <p>
I tried optimizing based on the first char, but it had a slightly negative
affect and was a good bit more complicated.
</p>


  </div>
</div>
<div class="tags">
  

</div>  
      </td>
      <td class="line-numbers">
        <pre class="lines" style="padding-right: 0px;">283
284
285
286</pre>
      </td>
      <td class="code">
        <pre class="code"><span class="info file">    TOKENS.regex_tokens.each do |token|
        next unless match_length = @scanner.match?(token.regex) 
        </pre>
      </td>
    </tr>
  
    <tr>
      <td class="comment">
        <span><div class="docstring">
  <div class="discussion">
    <p>
We&#8217;ve found a longer match
</p>


  </div>
</div>
<div class="tags">
  

</div>  
      </td>
      <td class="line-numbers">
        <pre class="lines" style="padding-right: 0px;">287
288
289
290
291
292
293
294
295
296</pre>
      </td>
      <td class="code">
        <pre class="code"><span class="info file">        if match_length &gt; length
            value = @scanner.scan(token.regex) 
            length = value.length
            matched_token = token
        end
    end

    return matched_token, value
end</pre>
      </td>
    </tr>
  

</table>
    
      <div class="method_details ">
  <p class="signature " id="find_string_token-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>find_string_token</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/parser/lexer.rb', line 256</span>

<span class='kw'>def</span> <span class='id identifier rubyid_find_string_token'>find_string_token</span>
    <span class='id identifier rubyid_matched_token'>matched_token</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='kw'>nil</span>

    <span class='comment'># We know our longest string token is three chars, so try each size in turn
</span>    <span class='comment'># until we either match or run out of chars.  This way our worst-case is three
</span>    <span class='comment'># tries, where it is otherwise the number of string chars we have.  Also,
</span>    <span class='comment'># the lookups are optimized hash lookups, instead of regex scans.
</span>    <span class='lbracket'>[</span><span class='int'>3</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>1</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
        <span class='id identifier rubyid_str'>str</span> <span class='op'>=</span> <span class='ivar'>@scanner</span><span class='period'>.</span><span class='id identifier rubyid_peek'>peek</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='rparen'>)</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_matched_token'>matched_token</span> <span class='op'>=</span> <span class='const'>TOKENS</span><span class='period'>.</span><span class='id identifier rubyid_lookup'>lookup</span><span class='lparen'>(</span><span class='id identifier rubyid_str'>str</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='ivar'>@scanner</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='id identifier rubyid_matched_token'>matched_token</span><span class='period'>.</span><span class='id identifier rubyid_regex'>regex</span><span class='rparen'>)</span>
            <span class='kw'>break</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='kw'>return</span> <span class='id identifier rubyid_matched_token'>matched_token</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div><table class="annotated_source_code">
  <tr>
    <td colspan="3" style="padding-left: 10px;">
      <pre class="code"><span class="info file"># File 'lib/puppet/parser/lexer.rb', line 256</span></pre>
    </td>
  </tr>
  
    <tr>
      <td class="comment">
        <span>  
      </td>
      <td class="line-numbers">
        <pre class="lines" style="padding-right: 0px;">256
257
258
259</pre>
      </td>
      <td class="code">
        <pre class="code"><span class="info file">def find_string_token
    matched_token = value = nil
</pre>
      </td>
    </tr>
  
    <tr>
      <td class="comment">
        <span><div class="docstring">
  <div class="discussion">
    <p>
We know our longest string token is three chars, so try each size in turn
until we either match or run out of chars.  This way our worst-case is
three tries, where it is otherwise the number of string chars we have. 
Also, the lookups are optimized hash lookups, instead of regex scans.
</p>


  </div>
</div>
<div class="tags">
  

</div>  
      </td>
      <td class="line-numbers">
        <pre class="lines" style="padding-right: 0px;">263
264
265
266
267
268
269
270
271
272
273</pre>
      </td>
      <td class="code">
        <pre class="code"><span class="info file">    [3, 2, 1].each do |i|
        str = @scanner.peek(i)
        if matched_token = TOKENS.lookup(str)
            value = @scanner.scan(matched_token.regex)
            break
        end
    end

    return matched_token, value
end</pre>
      </td>
    </tr>
  

</table>
    
      <div class="method_details ">
  <p class="signature " id="find_token-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>find_token</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Find the next token, returning the string and the token.
</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


298
299
300
301
302
303
304
305
306
307</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/parser/lexer.rb', line 298</span>

<span class='kw'>def</span> <span class='id identifier rubyid_find_token'>find_token</span>
    <span class='ivar'>@find</span> <span class='op'>+=</span> <span class='int'>1</span>
    <span class='id identifier rubyid_matched_token'>matched_token</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='id identifier rubyid_find_regex_token'>find_regex_token</span>

    <span class='kw'>unless</span> <span class='id identifier rubyid_matched_token'>matched_token</span>
        <span class='id identifier rubyid_matched_token'>matched_token</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='id identifier rubyid_find_string_token'>find_string_token</span>
    <span class='kw'>end</span>

    <span class='kw'>return</span> <span class='id identifier rubyid_matched_token'>matched_token</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div><table class="annotated_source_code">
  <tr>
    <td colspan="3" style="padding-left: 10px;">
      <pre class="code"><span class="info file"># File 'lib/puppet/parser/lexer.rb', line 298</span></pre>
    </td>
  </tr>
  
    <tr>
      <td class="comment">
        <span>  
      </td>
      <td class="line-numbers">
        <pre class="lines" style="padding-right: 0px;">298
299
300
301
302
303
304
305
306
307
308</pre>
      </td>
      <td class="code">
        <pre class="code"><span class="info file"><span class='kw'>def</span> <span class='id identifier rubyid_find_token'>find_token</span>
    <span class='ivar'>@find</span> <span class='op'>+=</span> <span class='int'>1</span>
    <span class='id identifier rubyid_matched_token'>matched_token</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='id identifier rubyid_find_regex_token'>find_regex_token</span>

    <span class='kw'>unless</span> <span class='id identifier rubyid_matched_token'>matched_token</span>
        <span class='id identifier rubyid_matched_token'>matched_token</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='id identifier rubyid_find_string_token'>find_string_token</span>
    <span class='kw'>end</span>

    <span class='kw'>return</span> <span class='id identifier rubyid_matched_token'>matched_token</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span>
<span class='kw'>end</span></pre>
      </td>
    </tr>
  

</table>
    
      <div class="method_details ">
  <p class="signature " id="fullscan-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>fullscan</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
scan the whole file basically just used for testing
</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


233
234
235
236
237
238
239
240
241
242</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/parser/lexer.rb', line 233</span>

<span class='kw'>def</span> <span class='id identifier rubyid_fullscan'>fullscan</span>
    <span class='id identifier rubyid_array'>array</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>

    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_token'>token</span><span class='comma'>,</span> <span class='id identifier rubyid_str'>str</span><span class='op'>|</span>
        <span class='comment'># Ignore any definition nesting problems
</span>        <span class='ivar'>@indefine</span> <span class='op'>=</span> <span class='kw'>false</span>
        <span class='id identifier rubyid_array'>array</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='id identifier rubyid_token'>token</span><span class='comma'>,</span><span class='id identifier rubyid_str'>str</span><span class='rbracket'>]</span><span class='rparen'>)</span>
    <span class='rbrace'>}</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_array'>array</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div><table class="annotated_source_code">
  <tr>
    <td colspan="3" style="padding-left: 10px;">
      <pre class="code"><span class="info file"># File 'lib/puppet/parser/lexer.rb', line 233</span></pre>
    </td>
  </tr>
  
    <tr>
      <td class="comment">
        <span>  
      </td>
      <td class="line-numbers">
        <pre class="lines" style="padding-right: 0px;">233
234
235
236
237</pre>
      </td>
      <td class="code">
        <pre class="code"><span class="info file">def fullscan
    array = []

    self.scan { |token, str|</pre>
      </td>
    </tr>
  
    <tr>
      <td class="comment">
        <span><div class="docstring">
  <div class="discussion">
    <p>
Ignore any definition nesting problems
</p>


  </div>
</div>
<div class="tags">
  

</div>  
      </td>
      <td class="line-numbers">
        <pre class="lines" style="padding-right: 0px;">238
239
240
241
242
243</pre>
      </td>
      <td class="code">
        <pre class="code"><span class="info file">        @indefine = false
        array.push([token,str])
    }
    return array
end</pre>
      </td>
    </tr>
  

</table>
    
      <div class="method_details ">
  <p class="signature " id="getcomment-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>getcomment</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


491
492
493
494
495</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/parser/lexer.rb', line 491</span>

<span class='kw'>def</span> <span class='id identifier rubyid_getcomment'>getcomment</span>
    <span class='id identifier rubyid_comment'>comment</span> <span class='op'>=</span> <span class='ivar'>@commentstack</span><span class='period'>.</span><span class='id identifier rubyid_pop'>pop</span>
    <span class='ivar'>@commentstack</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_comment'>comment</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div><table class="annotated_source_code">
  <tr>
    <td colspan="3" style="padding-left: 10px;">
      <pre class="code"><span class="info file"># File 'lib/puppet/parser/lexer.rb', line 491</span></pre>
    </td>
  </tr>
  
    <tr>
      <td class="comment">
        <span>  
      </td>
      <td class="line-numbers">
        <pre class="lines" style="padding-right: 0px;">491
492
493
494
495
496</pre>
      </td>
      <td class="code">
        <pre class="code"><span class="info file"><span class='kw'>def</span> <span class='id identifier rubyid_getcomment'>getcomment</span>
    <span class='id identifier rubyid_comment'>comment</span> <span class='op'>=</span> <span class='ivar'>@commentstack</span><span class='period'>.</span><span class='id identifier rubyid_pop'>pop</span>
    <span class='ivar'>@commentstack</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_comment'>comment</span>
<span class='kw'>end</span></pre>
      </td>
    </tr>
  

</table>
    
      <div class="method_details ">
  <p class="signature " id="indefine?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>indefine?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


309
310
311
312
313
314
315</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/parser/lexer.rb', line 309</span>

<span class='kw'>def</span> <span class='id identifier rubyid_indefine?'>indefine?</span>
    <span class='kw'>if</span> <span class='kw'>defined?</span> <span class='ivar'>@indefine</span>
        <span class='ivar'>@indefine</span>
    <span class='kw'>else</span>
        <span class='kw'>false</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div><table class="annotated_source_code">
  <tr>
    <td colspan="3" style="padding-left: 10px;">
      <pre class="code"><span class="info file"># File 'lib/puppet/parser/lexer.rb', line 309</span></pre>
    </td>
  </tr>
  
    <tr>
      <td class="comment">
        <span>  
      </td>
      <td class="line-numbers">
        <pre class="lines" style="padding-right: 0px;">309
310
311
312
313
314
315
316</pre>
      </td>
      <td class="code">
        <pre class="code"><span class="info file"><span class='kw'>def</span> <span class='id identifier rubyid_indefine?'>indefine?</span>
    <span class='kw'>if</span> <span class='kw'>defined?</span> <span class='ivar'>@indefine</span>
        <span class='ivar'>@indefine</span>
    <span class='kw'>else</span>
        <span class='kw'>false</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
      </td>
    </tr>
  

</table>
    
      <div class="method_details ">
  <p class="signature " id="initvars-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>initvars</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


323
324
325
326
327
328
329
330
331
332
333
334
335
336</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/parser/lexer.rb', line 323</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initvars'>initvars</span>
    <span class='ivar'>@line</span> <span class='op'>=</span> <span class='int'>1</span>
    <span class='ivar'>@previous_token</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='ivar'>@scanner</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='ivar'>@file</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='comment'># AAARRGGGG! okay, regexes in ruby are bloody annoying
</span>    <span class='comment'># no one else has &quot;\n&quot; =~ /\s/
</span>    <span class='ivar'>@skip</span> <span class='op'>=</span> <span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>[ \t]+</span><span class='regexp_end'>}</span></span>

    <span class='ivar'>@namestack</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
    <span class='ivar'>@indefine</span> <span class='op'>=</span> <span class='kw'>false</span>
    <span class='ivar'>@expected</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
    <span class='ivar'>@commentstack</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div><table class="annotated_source_code">
  <tr>
    <td colspan="3" style="padding-left: 10px;">
      <pre class="code"><span class="info file"># File 'lib/puppet/parser/lexer.rb', line 323</span></pre>
    </td>
  </tr>
  
    <tr>
      <td class="comment">
        <span>  
      </td>
      <td class="line-numbers">
        <pre class="lines" style="padding-right: 0px;">323
324
325
326
327
328</pre>
      </td>
      <td class="code">
        <pre class="code"><span class="info file">def initvars
    @line = 1
    @previous_token = nil
    @scanner = nil
    @file = nil</pre>
      </td>
    </tr>
  
    <tr>
      <td class="comment">
        <span><div class="docstring">
  <div class="discussion">
    <p>
AAARRGGGG! okay, regexes in ruby are bloody annoying no one else has
&#8220;\n&#8221; =~ /\s/
</p>


  </div>
</div>
<div class="tags">
  

</div>  
      </td>
      <td class="line-numbers">
        <pre class="lines" style="padding-right: 0px;">330
331
332
333
334
335
336
337</pre>
      </td>
      <td class="code">
        <pre class="code"><span class="info file">    @skip = %r{[ \t]+}

    @namestack = []
    @indefine = false
    @expected = []
    @commentstack = ['']
end</pre>
      </td>
    </tr>
  

</table>
    
      <div class="method_details ">
  <p class="signature " id="munge_token-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>munge_token</strong>(token, value) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Make any necessary changes to the token and/or value.
</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/parser/lexer.rb', line 339</span>

<span class='kw'>def</span> <span class='id identifier rubyid_munge_token'>munge_token</span><span class='lparen'>(</span><span class='id identifier rubyid_token'>token</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
    <span class='ivar'>@line</span> <span class='op'>+=</span> <span class='int'>1</span> <span class='kw'>if</span> <span class='id identifier rubyid_token'>token</span><span class='period'>.</span><span class='id identifier rubyid_incr_line'>incr_line</span>

    <span class='id identifier rubyid_skip'>skip</span><span class='lparen'>(</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_token'>token</span><span class='period'>.</span><span class='id identifier rubyid_skip_text'>skip_text</span>

    <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_token'>token</span><span class='period'>.</span><span class='id identifier rubyid_skip'>skip</span> <span class='kw'>and</span> <span class='kw'>not</span> <span class='id identifier rubyid_token'>token</span><span class='period'>.</span><span class='id identifier rubyid_accumulate?'>accumulate?</span>

    <span class='id identifier rubyid_token'>token</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='id identifier rubyid_token'>token</span><span class='period'>.</span><span class='id identifier rubyid_convert'>convert</span><span class='lparen'>(</span><span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_token'>token</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:convert</span><span class='rparen'>)</span>

    <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_token'>token</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_token'>token</span><span class='period'>.</span><span class='id identifier rubyid_accumulate?'>accumulate?</span>
        <span class='ivar'>@commentstack</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>

    <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_token'>token</span><span class='period'>.</span><span class='id identifier rubyid_skip'>skip</span>

    <span class='kw'>return</span> <span class='id identifier rubyid_token'>token</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div><table class="annotated_source_code">
  <tr>
    <td colspan="3" style="padding-left: 10px;">
      <pre class="code"><span class="info file"># File 'lib/puppet/parser/lexer.rb', line 339</span></pre>
    </td>
  </tr>
  
    <tr>
      <td class="comment">
        <span>  
      </td>
      <td class="line-numbers">
        <pre class="lines" style="padding-right: 0px;">339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358</pre>
      </td>
      <td class="code">
        <pre class="code"><span class="info file"><span class='kw'>def</span> <span class='id identifier rubyid_munge_token'>munge_token</span><span class='lparen'>(</span><span class='id identifier rubyid_token'>token</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
    <span class='ivar'>@line</span> <span class='op'>+=</span> <span class='int'>1</span> <span class='kw'>if</span> <span class='id identifier rubyid_token'>token</span><span class='period'>.</span><span class='id identifier rubyid_incr_line'>incr_line</span>

    <span class='id identifier rubyid_skip'>skip</span><span class='lparen'>(</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_token'>token</span><span class='period'>.</span><span class='id identifier rubyid_skip_text'>skip_text</span>

    <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_token'>token</span><span class='period'>.</span><span class='id identifier rubyid_skip'>skip</span> <span class='kw'>and</span> <span class='kw'>not</span> <span class='id identifier rubyid_token'>token</span><span class='period'>.</span><span class='id identifier rubyid_accumulate?'>accumulate?</span>

    <span class='id identifier rubyid_token'>token</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='id identifier rubyid_token'>token</span><span class='period'>.</span><span class='id identifier rubyid_convert'>convert</span><span class='lparen'>(</span><span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_token'>token</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:convert</span><span class='rparen'>)</span>

    <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_token'>token</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_token'>token</span><span class='period'>.</span><span class='id identifier rubyid_accumulate?'>accumulate?</span>
        <span class='ivar'>@commentstack</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>

    <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_token'>token</span><span class='period'>.</span><span class='id identifier rubyid_skip'>skip</span>

    <span class='kw'>return</span> <span class='id identifier rubyid_token'>token</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span>
<span class='kw'>end</span></pre>
      </td>
    </tr>
  

</table>
    
      <div class="method_details ">
  <p class="signature " id="namepop-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>namepop</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Go up one in the namespace.
</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


360
361
362</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/parser/lexer.rb', line 360</span>

<span class='kw'>def</span> <span class='id identifier rubyid_namepop'>namepop</span>
    <span class='ivar'>@namestack</span><span class='period'>.</span><span class='id identifier rubyid_pop'>pop</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div><table class="annotated_source_code">
  <tr>
    <td colspan="3" style="padding-left: 10px;">
      <pre class="code"><span class="info file"># File 'lib/puppet/parser/lexer.rb', line 360</span></pre>
    </td>
  </tr>
  
    <tr>
      <td class="comment">
        <span>  
      </td>
      <td class="line-numbers">
        <pre class="lines" style="padding-right: 0px;">360
361
362
363</pre>
      </td>
      <td class="code">
        <pre class="code"><span class="info file"><span class='kw'>def</span> <span class='id identifier rubyid_namepop'>namepop</span>
    <span class='ivar'>@namestack</span><span class='period'>.</span><span class='id identifier rubyid_pop'>pop</span>
<span class='kw'>end</span></pre>
      </td>
    </tr>
  

</table>
    
      <div class="method_details ">
  <p class="signature " id="namespace-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>namespace</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Collect the current namespace.
</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


365
366
367</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/parser/lexer.rb', line 365</span>

<span class='kw'>def</span> <span class='id identifier rubyid_namespace'>namespace</span>
    <span class='ivar'>@namestack</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>::</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div><table class="annotated_source_code">
  <tr>
    <td colspan="3" style="padding-left: 10px;">
      <pre class="code"><span class="info file"># File 'lib/puppet/parser/lexer.rb', line 365</span></pre>
    </td>
  </tr>
  
    <tr>
      <td class="comment">
        <span>  
      </td>
      <td class="line-numbers">
        <pre class="lines" style="padding-right: 0px;">365
366
367
368</pre>
      </td>
      <td class="code">
        <pre class="code"><span class="info file"><span class='kw'>def</span> <span class='id identifier rubyid_namespace'>namespace</span>
    <span class='ivar'>@namestack</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>::</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
      </td>
    </tr>
  

</table>
    
      <div class="method_details ">
  <p class="signature " id="namestack-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>namestack</strong>(value) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <table>
<tr><td valign="top">This value might have </td><td><p>
in it, but we don&#8217;t care &#8212; it&#8217;ll be
</p>
</td></tr>
</table>
<p>
handled normally when joining, and when popping we want to pop this full
value, however long the namespace is.
</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


372
373
374</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/parser/lexer.rb', line 372</span>

<span class='kw'>def</span> <span class='id identifier rubyid_namestack'>namestack</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
    <span class='ivar'>@namestack</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_value'>value</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div><table class="annotated_source_code">
  <tr>
    <td colspan="3" style="padding-left: 10px;">
      <pre class="code"><span class="info file"># File 'lib/puppet/parser/lexer.rb', line 372</span></pre>
    </td>
  </tr>
  
    <tr>
      <td class="comment">
        <span>  
      </td>
      <td class="line-numbers">
        <pre class="lines" style="padding-right: 0px;">372
373
374
375</pre>
      </td>
      <td class="code">
        <pre class="code"><span class="info file"><span class='kw'>def</span> <span class='id identifier rubyid_namestack'>namestack</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
    <span class='ivar'>@namestack</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_value'>value</span>
<span class='kw'>end</span></pre>
      </td>
    </tr>
  

</table>
    
      <div class="method_details ">
  <p class="signature " id="rest-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>rest</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


376
377
378</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/parser/lexer.rb', line 376</span>

<span class='kw'>def</span> <span class='id identifier rubyid_rest'>rest</span>
    <span class='ivar'>@scanner</span><span class='period'>.</span><span class='id identifier rubyid_rest'>rest</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div><table class="annotated_source_code">
  <tr>
    <td colspan="3" style="padding-left: 10px;">
      <pre class="code"><span class="info file"># File 'lib/puppet/parser/lexer.rb', line 376</span></pre>
    </td>
  </tr>
  
    <tr>
      <td class="comment">
        <span>  
      </td>
      <td class="line-numbers">
        <pre class="lines" style="padding-right: 0px;">376
377
378
379</pre>
      </td>
      <td class="code">
        <pre class="code"><span class="info file"><span class='kw'>def</span> <span class='id identifier rubyid_rest'>rest</span>
    <span class='ivar'>@scanner</span><span class='period'>.</span><span class='id identifier rubyid_rest'>rest</span>
<span class='kw'>end</span></pre>
      </td>
    </tr>
  

</table>
    
      <div class="method_details ">
  <p class="signature " id="scan-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>scan</strong> {|[false,false]| ... }
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
this is the heart of the lexer
</p>


  </div>
</div>
<div class="tags">
  
<h3>Yields:</h3>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>[false,false]</tt>)</span>
      
      
      
    </li>
  
</ul>
<h3>Raises:</h3>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../LexError.html" title="Puppet::LexError (class)">Puppet::LexError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/parser/lexer.rb', line 381</span>

<span class='kw'>def</span> <span class='id identifier rubyid_scan'>scan</span>
    <span class='comment'>#Puppet.debug(&quot;entering scan&quot;)
</span>    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>Puppet</span><span class='op'>::</span><span class='const'>LexError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Invalid or empty string</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='ivar'>@scanner</span>

    <span class='comment'># Skip any initial whitespace.
</span>    <span class='id identifier rubyid_skip'>skip</span><span class='lparen'>(</span><span class='rparen'>)</span>

    <span class='kw'>until</span> <span class='ivar'>@scanner</span><span class='period'>.</span><span class='id identifier rubyid_eos?'>eos?</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_yielded'>yielded</span> <span class='op'>=</span> <span class='kw'>false</span>
        <span class='id identifier rubyid_matched_token'>matched_token</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='id identifier rubyid_find_token'>find_token</span>

        <span class='comment'># error out if we didn't match anything at all
</span>        <span class='kw'>if</span> <span class='id identifier rubyid_matched_token'>matched_token</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
            <span class='id identifier rubyid_nword'>nword</span> <span class='op'>=</span> <span class='kw'>nil</span>
            <span class='comment'># Try to pull a 'word' out of the remaining string.
</span>            <span class='kw'>if</span> <span class='ivar'>@scanner</span><span class='period'>.</span><span class='id identifier rubyid_rest'>rest</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^(\S+)</span><span class='regexp_end'>/</span></span>
                <span class='id identifier rubyid_nword'>nword</span> <span class='op'>=</span> <span class='backref'>$1</span>
            <span class='kw'>elsif</span> <span class='ivar'>@scanner</span><span class='period'>.</span><span class='id identifier rubyid_rest'>rest</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^(\s+)</span><span class='regexp_end'>/</span></span>
                <span class='id identifier rubyid_nword'>nword</span> <span class='op'>=</span> <span class='backref'>$1</span>
            <span class='kw'>else</span>
                <span class='id identifier rubyid_nword'>nword</span> <span class='op'>=</span> <span class='ivar'>@scanner</span><span class='period'>.</span><span class='id identifier rubyid_rest'>rest</span>
            <span class='kw'>end</span>
            <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Could not match '%s'</span><span class='tstring_end'>&quot;</span></span> <span class='op'>%</span> <span class='id identifier rubyid_nword'>nword</span>
        <span class='kw'>end</span>

        <span class='kw'>if</span> <span class='id identifier rubyid_matched_token'>matched_token</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>==</span> <span class='symbol'>:RETURN</span>
            <span class='comment'># this matches a blank line
</span>            <span class='kw'>if</span> <span class='ivar'>@last_return</span>
                <span class='comment'># eat the previously accumulated comments
</span>                <span class='id identifier rubyid_getcomment'>getcomment</span>
            <span class='kw'>end</span>
            <span class='comment'># since :RETURN skips, we won't survive to munge_token
</span>            <span class='ivar'>@last_return</span> <span class='op'>=</span> <span class='kw'>true</span>
        <span class='kw'>else</span>
            <span class='ivar'>@last_return</span> <span class='op'>=</span> <span class='kw'>false</span>
        <span class='kw'>end</span>

        <span class='id identifier rubyid_final_token'>final_token</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='id identifier rubyid_munge_token'>munge_token</span><span class='lparen'>(</span><span class='id identifier rubyid_matched_token'>matched_token</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>

        <span class='kw'>next</span> <span class='kw'>unless</span> <span class='id identifier rubyid_final_token'>final_token</span>

        <span class='kw'>if</span> <span class='id identifier rubyid_match'>match</span> <span class='op'>=</span> <span class='cvar'>@@pairs</span><span class='lbracket'>[</span><span class='id identifier rubyid_value'>value</span><span class='rbracket'>]</span> <span class='kw'>and</span> <span class='id identifier rubyid_final_token'>final_token</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>!=</span> <span class='symbol'>:DQUOTE</span> <span class='kw'>and</span> <span class='id identifier rubyid_final_token'>final_token</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>!=</span> <span class='symbol'>:SQUOTE</span>
            <span class='ivar'>@expected</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_match'>match</span>
        <span class='kw'>elsif</span> <span class='id identifier rubyid_exp'>exp</span> <span class='op'>=</span> <span class='ivar'>@expected</span><span class='lbracket'>[</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span> <span class='kw'>and</span> <span class='id identifier rubyid_exp'>exp</span> <span class='op'>==</span> <span class='id identifier rubyid_value'>value</span> <span class='kw'>and</span> <span class='id identifier rubyid_final_token'>final_token</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>!=</span> <span class='symbol'>:DQUOTE</span> <span class='kw'>and</span> <span class='id identifier rubyid_final_token'>final_token</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>!=</span> <span class='symbol'>:SQUOTE</span>
            <span class='ivar'>@expected</span><span class='period'>.</span><span class='id identifier rubyid_pop'>pop</span>
        <span class='kw'>end</span>

        <span class='kw'>if</span> <span class='id identifier rubyid_final_token'>final_token</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>==</span> <span class='symbol'>:LBRACE</span>
            <span class='id identifier rubyid_commentpush'>commentpush</span>
        <span class='kw'>end</span>

        <span class='kw'>yield</span> <span class='lbracket'>[</span><span class='id identifier rubyid_final_token'>final_token</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='rbracket'>]</span>

        <span class='kw'>if</span> <span class='ivar'>@previous_token</span>
            <span class='id identifier rubyid_namestack'>namestack</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='ivar'>@previous_token</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>==</span> <span class='symbol'>:CLASS</span>

            <span class='kw'>if</span> <span class='ivar'>@previous_token</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>==</span> <span class='symbol'>:DEFINE</span>
                <span class='kw'>if</span> <span class='id identifier rubyid_indefine?'>indefine?</span>
                    <span class='id identifier rubyid_msg'>msg</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Cannot nest definition %s inside %s</span><span class='tstring_end'>&quot;</span></span> <span class='op'>%</span> <span class='lbracket'>[</span><span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='ivar'>@indefine</span><span class='rbracket'>]</span>
                    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_indefine'>indefine</span> <span class='op'>=</span> <span class='kw'>false</span>
                    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>Puppet</span><span class='op'>::</span><span class='const'>ParseError</span><span class='comma'>,</span> <span class='id identifier rubyid_msg'>msg</span>
                <span class='kw'>end</span>

                <span class='ivar'>@indefine</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span>
            <span class='kw'>end</span>
        <span class='kw'>end</span>
        <span class='ivar'>@previous_token</span> <span class='op'>=</span> <span class='id identifier rubyid_final_token'>final_token</span>
        <span class='id identifier rubyid_skip'>skip</span><span class='lparen'>(</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='ivar'>@scanner</span> <span class='op'>=</span> <span class='kw'>nil</span>

    <span class='comment'># This indicates that we're done parsing.
</span>    <span class='kw'>yield</span> <span class='lbracket'>[</span><span class='kw'>false</span><span class='comma'>,</span><span class='kw'>false</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div><table class="annotated_source_code">
  <tr>
    <td colspan="3" style="padding-left: 10px;">
      <pre class="code"><span class="info file"># File 'lib/puppet/parser/lexer.rb', line 381</span></pre>
    </td>
  </tr>
  
    <tr>
      <td class="comment">
        <span>  
      </td>
      <td class="line-numbers">
        <pre class="lines" style="padding-right: 0px;">381
382</pre>
      </td>
      <td class="code">
        <pre class="code"><span class="info file">def scan</pre>
      </td>
    </tr>
  
    <tr>
      <td class="comment">
        <span><div class="docstring">
  <div class="discussion">
    <p>
Puppet.debug(&#8220;entering scan&#8221;)
</p>


  </div>
</div>
<div class="tags">
  

</div>  
      </td>
      <td class="line-numbers">
        <pre class="lines" style="padding-right: 0px;">383
384
385</pre>
      </td>
      <td class="code">
        <pre class="code"><span class="info file">    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>Puppet</span><span class='op'>::</span><span class='const'>LexError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Invalid or empty string</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='ivar'>@scanner</span>
</pre>
      </td>
    </tr>
  
    <tr>
      <td class="comment">
        <span><div class="docstring">
  <div class="discussion">
    <p>
Skip any initial whitespace.
</p>


  </div>
</div>
<div class="tags">
  

</div>  
      </td>
      <td class="line-numbers">
        <pre class="lines" style="padding-right: 0px;">386
387
388
389
390
391
392</pre>
      </td>
      <td class="code">
        <pre class="code"><span class="info file">    skip()

    until @scanner.eos? do
        yielded = false
        matched_token, value = find_token
</pre>
      </td>
    </tr>
  
    <tr>
      <td class="comment">
        <span><div class="docstring">
  <div class="discussion">
    <p>
error out if we didn&#8217;t match anything at all
</p>


  </div>
</div>
<div class="tags">
  

</div>  
      </td>
      <td class="line-numbers">
        <pre class="lines" style="padding-right: 0px;">393
394
395</pre>
      </td>
      <td class="code">
        <pre class="code"><span class="info file">        if matched_token.nil?
            nword = nil</pre>
      </td>
    </tr>
  
    <tr>
      <td class="comment">
        <span><div class="docstring">
  <div class="discussion">
    <p>
Try to pull a &#8216;word&#8217; out of the remaining string.
</p>


  </div>
</div>
<div class="tags">
  

</div>  
      </td>
      <td class="line-numbers">
        <pre class="lines" style="padding-right: 0px;">396
397
398
399
400
401
402
403
404
405
406
407</pre>
      </td>
      <td class="code">
        <pre class="code"><span class="info file">            if @scanner.rest =~ /^(\S+)/
                nword = $1
            elsif @scanner.rest =~ /^(\s+)/
                nword = $1
            else
                nword = @scanner.rest
            end
            raise &quot;Could not match '%s'&quot; % nword
        end

        if matched_token.name == :RETURN</pre>
      </td>
    </tr>
  
    <tr>
      <td class="comment">
        <span><div class="docstring">
  <div class="discussion">
    <p>
this matches a blank line
</p>


  </div>
</div>
<div class="tags">
  

</div>  
      </td>
      <td class="line-numbers">
        <pre class="lines" style="padding-right: 0px;">408
409</pre>
      </td>
      <td class="code">
        <pre class="code"><span class="info file">            if @last_return</pre>
      </td>
    </tr>
  
    <tr>
      <td class="comment">
        <span><div class="docstring">
  <div class="discussion">
    <p>
eat the previously accumulated comments
</p>


  </div>
</div>
<div class="tags">
  

</div>  
      </td>
      <td class="line-numbers">
        <pre class="lines" style="padding-right: 0px;">410
411
412</pre>
      </td>
      <td class="code">
        <pre class="code"><span class="info file">                getcomment
            end</pre>
      </td>
    </tr>
  
    <tr>
      <td class="comment">
        <span><div class="docstring">
  <div class="discussion">
    <p>
since :RETURN skips, we won&#8217;t survive to munge_token
</p>


  </div>
</div>
<div class="tags">
  

</div>  
      </td>
      <td class="line-numbers">
        <pre class="lines" style="padding-right: 0px;">413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452</pre>
      </td>
      <td class="code">
        <pre class="code"><span class="info file">            @last_return = true
        else
            @last_return = false
        end

        final_token, value = munge_token(matched_token, value)

        next unless final_token

        if match = @@pairs[value] and final_token.name != :DQUOTE and final_token.name != :SQUOTE
            @expected &lt;&lt; match
        elsif exp = @expected[-1] and exp == value and final_token.name != :DQUOTE and final_token.name != :SQUOTE
            @expected.pop
        end

        if final_token.name == :LBRACE
            commentpush
        end

        yield [final_token.name, value]

        if @previous_token
            namestack(value) if @previous_token.name == :CLASS

            if @previous_token.name == :DEFINE
                if indefine?
                    msg = &quot;Cannot nest definition %s inside %s&quot; % [value, @indefine]
                    self.indefine = false
                    raise Puppet::ParseError, msg
                end

                @indefine = value
            end
        end
        @previous_token = final_token
        skip()
    end
    @scanner = nil
</pre>
      </td>
    </tr>
  
    <tr>
      <td class="comment">
        <span><div class="docstring">
  <div class="discussion">
    <p>
This indicates that we&#8217;re done parsing.
</p>


  </div>
</div>
<div class="tags">
  

</div>  
      </td>
      <td class="line-numbers">
        <pre class="lines" style="padding-right: 0px;">453
454
455</pre>
      </td>
      <td class="code">
        <pre class="code"><span class="info file">    yield [false,false]
end</pre>
      </td>
    </tr>
  

</table>
    
      <div class="method_details ">
  <p class="signature " id="skip-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>skip</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Skip any skipchars in our remaining string.
</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


457
458
459</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/parser/lexer.rb', line 457</span>

<span class='kw'>def</span> <span class='id identifier rubyid_skip'>skip</span>
    <span class='ivar'>@scanner</span><span class='period'>.</span><span class='id identifier rubyid_skip'>skip</span><span class='lparen'>(</span><span class='ivar'>@skip</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div><table class="annotated_source_code">
  <tr>
    <td colspan="3" style="padding-left: 10px;">
      <pre class="code"><span class="info file"># File 'lib/puppet/parser/lexer.rb', line 457</span></pre>
    </td>
  </tr>
  
    <tr>
      <td class="comment">
        <span>  
      </td>
      <td class="line-numbers">
        <pre class="lines" style="padding-right: 0px;">457
458
459
460</pre>
      </td>
      <td class="code">
        <pre class="code"><span class="info file"><span class='kw'>def</span> <span class='id identifier rubyid_skip'>skip</span>
    <span class='ivar'>@scanner</span><span class='period'>.</span><span class='id identifier rubyid_skip'>skip</span><span class='lparen'>(</span><span class='ivar'>@skip</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
      </td>
    </tr>
  

</table>
    
      <div class="method_details ">
  <p class="signature " id="slurpstring-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>slurpstring</strong>(quote) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
we&#8217;ve encountered an opening quote&#8230; slurp in the rest of the
string and return it
</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/parser/lexer.rb', line 463</span>

<span class='kw'>def</span> <span class='id identifier rubyid_slurpstring'>slurpstring</span><span class='lparen'>(</span><span class='id identifier rubyid_quote'>quote</span><span class='rparen'>)</span>
    <span class='comment'># we search for the next quote that isn't preceded by a
</span>    <span class='comment'># backslash; the caret is there to match empty strings
</span>    <span class='id identifier rubyid_str'>str</span> <span class='op'>=</span> <span class='ivar'>@scanner</span><span class='period'>.</span><span class='id identifier rubyid_scan_until'>scan_until</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>([^\\]|^)</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_quote'>quote</span><span class='rbrace'>}</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_str'>str</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='const'>Puppet</span><span class='op'>::</span><span class='const'>LexError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unclosed quote after '%s' in '%s'</span><span class='tstring_end'>&quot;</span></span> <span class='op'>%</span>
            <span class='lbracket'>[</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span><span class='comma'>,</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_rest'>rest</span><span class='rbracket'>]</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
        <span class='id identifier rubyid_str'>str</span><span class='period'>.</span><span class='id identifier rubyid_sub!'>sub!</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_quote'>quote</span><span class='rbrace'>}</span><span class='tstring_content'>\Z</span><span class='regexp_end'>/</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
        <span class='id identifier rubyid_str'>str</span><span class='period'>.</span><span class='id identifier rubyid_gsub!'>gsub!</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\\</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_quote'>quote</span><span class='rbrace'>}</span><span class='regexp_end'>/</span></span><span class='comma'>,</span><span class='id identifier rubyid_quote'>quote</span><span class='rparen'>)</span>
    <span class='kw'>end</span>

    <span class='comment'># Add to our line count for every carriage return in multi-line strings.
</span>    <span class='ivar'>@line</span> <span class='op'>+=</span> <span class='id identifier rubyid_str'>str</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

    <span class='kw'>return</span> <span class='id identifier rubyid_str'>str</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div><table class="annotated_source_code">
  <tr>
    <td colspan="3" style="padding-left: 10px;">
      <pre class="code"><span class="info file"># File 'lib/puppet/parser/lexer.rb', line 463</span></pre>
    </td>
  </tr>
  
    <tr>
      <td class="comment">
        <span>  
      </td>
      <td class="line-numbers">
        <pre class="lines" style="padding-right: 0px;">463
464</pre>
      </td>
      <td class="code">
        <pre class="code"><span class="info file">def slurpstring(quote)</pre>
      </td>
    </tr>
  
    <tr>
      <td class="comment">
        <span><div class="docstring">
  <div class="discussion">
    <p>
we search for the next quote that isn&#8217;t preceded by a backslash; the
caret is there to match empty strings
</p>


  </div>
</div>
<div class="tags">
  

</div>  
      </td>
      <td class="line-numbers">
        <pre class="lines" style="padding-right: 0px;">466
467
468
469
470
471
472
473
474
475</pre>
      </td>
      <td class="code">
        <pre class="code"><span class="info file">    <span class='id identifier rubyid_str'>str</span> <span class='op'>=</span> <span class='ivar'>@scanner</span><span class='period'>.</span><span class='id identifier rubyid_scan_until'>scan_until</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>([^\\]|^)</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_quote'>quote</span><span class='rbrace'>}</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_str'>str</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='const'>Puppet</span><span class='op'>::</span><span class='const'>LexError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unclosed quote after '%s' in '%s'</span><span class='tstring_end'>&quot;</span></span> <span class='op'>%</span>
            <span class='lbracket'>[</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span><span class='comma'>,</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_rest'>rest</span><span class='rbracket'>]</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
        <span class='id identifier rubyid_str'>str</span><span class='period'>.</span><span class='id identifier rubyid_sub!'>sub!</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_quote'>quote</span><span class='rbrace'>}</span><span class='tstring_content'>\Z</span><span class='regexp_end'>/</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
        <span class='id identifier rubyid_str'>str</span><span class='period'>.</span><span class='id identifier rubyid_gsub!'>gsub!</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\\</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_quote'>quote</span><span class='rbrace'>}</span><span class='regexp_end'>/</span></span><span class='comma'>,</span><span class='id identifier rubyid_quote'>quote</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
</pre>
      </td>
    </tr>
  
    <tr>
      <td class="comment">
        <span><div class="docstring">
  <div class="discussion">
    <p>
Add to our line count for every carriage return in multi-line strings.
</p>


  </div>
</div>
<div class="tags">
  

</div>  
      </td>
      <td class="line-numbers">
        <pre class="lines" style="padding-right: 0px;">476
477
478
479
480</pre>
      </td>
      <td class="code">
        <pre class="code"><span class="info file">    @line += str.count(&quot;\n&quot;)

    return str
end</pre>
      </td>
    </tr>
  

</table>
    
      <div class="method_details ">
  <p class="signature " id="string=-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>string=</strong>(string) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
just parse a string, not a whole file
</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


482
483
484</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/parser/lexer.rb', line 482</span>

<span class='kw'>def</span> <span class='id identifier rubyid_string='>string=</span><span class='lparen'>(</span><span class='id identifier rubyid_string'>string</span><span class='rparen'>)</span>
    <span class='ivar'>@scanner</span> <span class='op'>=</span> <span class='const'>StringScanner</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_string'>string</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div><table class="annotated_source_code">
  <tr>
    <td colspan="3" style="padding-left: 10px;">
      <pre class="code"><span class="info file"># File 'lib/puppet/parser/lexer.rb', line 482</span></pre>
    </td>
  </tr>
  
    <tr>
      <td class="comment">
        <span>  
      </td>
      <td class="line-numbers">
        <pre class="lines" style="padding-right: 0px;">482
483
484
485</pre>
      </td>
      <td class="code">
        <pre class="code"><span class="info file"><span class='kw'>def</span> <span class='id identifier rubyid_string='>string=</span><span class='lparen'>(</span><span class='id identifier rubyid_string'>string</span><span class='rparen'>)</span>
    <span class='ivar'>@scanner</span> <span class='op'>=</span> <span class='const'>StringScanner</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_string'>string</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
      </td>
    </tr>
  

</table>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Tue Mar  6 02:12:34 2012 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.7.5 (ruby-1.9.2).
</div>

  </body>
</html>